<style>
  .books {
    list-style-type: none;
    float: left;
    clear: both;
  }
  .books li {
    display: block;
    float: left;
    width: 150px;
    height: 220px;
    overflow: hidden;
    padding-top: 20px;
    padding-right: 10px;
  }
</style>

Total pages: <%=@total_pages%>
<h1>Small Books (< 200 pag)</h1>
<ul class="books">
<% for b in @books do %>
  <% if b.css('num_pages').first.content != "" && Integer(b.css('num_pages').first.content) < 200 %>
    <li><img src="<%=b.css('image_url').first.content%>" /><br/><%=b.css('title').first.content%>(<%=b.css('num_pages').first.content%> pag)</li>
  <% end %>
<% end %>
</ul>

<h1>Medium Books (201 - 350 pag)</h1>
<ul class="books">
<% for b in @books do %>
  <% if b.css('num_pages').first.content != "" && Integer(b.css('num_pages').first.content) > 201 && Integer(b.css('num_pages').first.content) < 351 %>
        <li><img src="<%=b.css('image_url').first.content%>" /><br/><%=b.css('title').first.content%>(<%=b.css('num_pages').first.content%> pag)</li>
  <% end %>
<% end %>
</ul>

<h1>Big Books (351 - 500 pag)</h1>
<ul class="books">
<% for b in @books do %>
  <% if b.css('num_pages').first.content != "" && Integer(b.css('num_pages').first.content) > 350 && Integer(b.css('num_pages').first.content) < 501 %>
        <li><img src="<%=b.css('image_url').first.content%>" /><br/><%=b.css('title').first.content%>(<%=b.css('num_pages').first.content%> pag)</li>
  <% end %>
<% end %>
</ul>

<h1>OMG (>500 pag)</h1>
<ul class="books">
<% for b in @books do %>
  <% if b.css('num_pages').first.content != "" && Integer(b.css('num_pages').first.content) > 500 %>
        <li><img src="<%=b.css('image_url').first.content%>" /><br/><%=b.css('title').first.content%>(<%=b.css('num_pages').first.content%> pag)</li>
  <% end %>
<% end %>
</ul>
